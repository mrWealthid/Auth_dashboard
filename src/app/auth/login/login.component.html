<section class="flex main_color min-h-screen login items-center justify-center ">
  <section class="bg-white w-5/6 md:w-1/2 lg:w-1/3 py-10 px-5 flex gap-4 flex-col items-center justify-center">
    <p class="text-lg text-center font-bold text-2xl">Login</p>
    <form (ngSubmit)="handleLogin(LoginForm.value)" *ngIf="isLogin; else reset" [formGroup]="LoginForm" action=""
          class="w-full flex flex-col justify-center gap-2 items-center ">
      <section class="w-5/6">
        <label for="">Enter Email: </label>
        <div
          [ngClass]="{'error-input':this.validateEmail(), 'border-green-100 focus-within:border-gray-200 ': !this.validateEmail()}"
          class="border border-blue-100 flex justify-between items-center form-input my-1 px-2 py-2 focus-within:ring-0 rounded-lg  w-full"
        >
          <span *ngIf="!this.validateEmail()"><fa-icon [icon]="faAt" class="text-gray-300"></fa-icon></span>
          <span *ngIf="this.validateEmail()"><fa-icon [icon]="faCircleExclamation"
                                                      class="text-red-300"></fa-icon></span>
          <input
            class="border-none  text-xs md:text-sm focus-within:border-none focus-within:ring-0 w-full"
            formControlName="email"
            placeholder="johndoe@gmail.com"
            type="email"/>
        </div>
        <span *ngIf="this.validateEmail()" class="text-red-800 text-xs">Enter a valid email address</span>
      </section>
      <section class="w-5/6">
        <label for="">Enter Password </label>
        <div
          [ngClass]="{'error-input':this.validatePassword(), 'border-green-100 focus-within:border-gray-200 ': !this.validatePassword()}"
          class="border-blue-100 border flex justify-between items-center form-input my-1 px-2 py-2  focus-within:border-gray-200 focus-within:ring-0 rounded-lg  w-full">
          <fa-icon [icon]="faLock" class="text-gray-300"></fa-icon>
          <input
            [attr.type]='!isShown ? "password":"text"'
            [value]="password"
            class="border-none text-xs md:text-sm focus-within:border-none focus-within:ring-0 w-full"
            formControlName="password"
            id=""
            name=""
            placeholder="password"
          />
          <span (click)="togglePassword()" *ngIf="!isShown">
                                <fa-icon [icon]="faEye" class="text-gray-300 cursor-pointer"></fa-icon></span>
          <span (click)="togglePassword()" *ngIf="isShown">
                                <fa-icon [icon]="faEyeSlash" class="text-gray-300 cursor-pointer"></fa-icon></span>
        </div>
        <password-strength-plugin [config]=results [control]="password"
        ></password-strength-plugin>
        <!--                <section *ngIf="!password.pristine && password.valid" class="flex flex-col mt-4 ">-->
        <!--                    <div *ngIf="passwordStrength | async; let strength"-->
        <!--                         class="border flex items-center overflow-hidden rounded-lg  h-[10px] ">-->
        <!--                        <p [style.background-color]="color " [style.width]="strength"-->
        <!--                           class="h-full "></p>-->
        <!--                        &lt;!&ndash;                        <p [style.background-color]="color " [style.width]="strength"&ndash;&gt;-->
        <!--                        &lt;!&ndash;                           class="h-full border-r"></p>&ndash;&gt;-->
        <!--                        &lt;!&ndash;                        <p [style.background-color]="color " [style.width]="strength"&ndash;&gt;-->
        <!--                        &lt;!&ndash;                           class="h-full border-r"></p>&ndash;&gt;-->
        <!--                        &lt;!&ndash;                        <p [style.background-color]="color " [style.width]="strength"&ndash;&gt;-->
        <!--                        &lt;!&ndash;                           class="h-full border-r"></p>&ndash;&gt;-->
        <!--                    </div>-->
        <!--                    <div class="flex justify-between">-->
        <!--                        <p>Password Strength</p>-->
        <!--                        <p [style.color]="color ">{{description}}</p>-->
        <!--                    </div>-->
        <!--                </section>-->
        <!--                <section>-->
        <!--                    <p>Password strength hint</p>-->
        <!--                    <p class="">At least a lowercase character <span *ngIf=results.lowerCase> <fa-icon-->
        <!--                            [icon]="faCheck"-->
        <!--                            class="text-green-300 cursor-pointer"></fa-icon> </span>-->
        <!--                    </p>-->
        <!--                    <p class="">At least an uppercase character <span *ngIf=results.upperCase> <fa-icon-->
        <!--                            [icon]="faCheck"-->
        <!--                            class="text-green-300 cursor-pointer"></fa-icon> </span>-->
        <!--                    </p>-->
        <!--                    <p class="number">At least a number <span *ngIf=results.number> <fa-icon [icon]="faCheck"-->
        <!--                                                                                             class="text-green-300 cursor-pointer"></fa-icon> </span>-->
        <!--                    </p>-->
        <!--                    <p class="special">At least a special character <span *ngIf=results.specialCharacters> <fa-icon-->
        <!--                            [icon]="faCheck"-->
        <!--                            class="text-green-300 cursor-pointer"></fa-icon> </span>-->
        <!--                    </p>-->
        <!--                    <p>Minimum of 8 characters-->
        <!--                        <span *ngIf=results.length> <fa-icon [icon]="faCheck"-->
        <!--                                                             class="text-green-300 cursor-pointer"></fa-icon> </span>-->
        <!--                    </p>-->
        <!--                </section>-->
        <span *ngIf="this.validatePassword()" class="text-red-800 text-xs">Password must exceed 6 digits</span>
      </section>
      <section class="w-5/6 mt-4">
        <button
          [disabled]="LoginForm.invalid"
          [ngClass]="{'disabled:bg-green-300': LoginForm.invalid, 'disabled:cursor-not-allowed': LoginForm.invalid}"
          class="bg-green-800 py-3 my-1 rounded-lg w-full text-white">
          Login
        </button>


        <button
          (click)="handleCheckout('5c88fa8cf4afda39709c2955')"
          class="bg-green-800 py-3 my-1 rounded-lg w-full text-white">
          checkout
        </button>
        <button
          (click)="handleRedirect()"
          class="bg-green-800 py-3 my-1 rounded-lg w-full text-white">
          Google
        </button>
        <!--                <app-button [btnText]="authservice? 'Processing...':'Login'" [disabled]="LoginForm.invalid"-->
        <!--                            [styles]="'btn-primary'"></app-button>-->
      </section>
      <p class="flex  gap-3 text-sm tex-gray-800">
        Need An Account
        <a [routerLink]="['/register']" class="text-blue-600 text-sm">
          Sign up
        </a>
      </p>

      <p class="flex  gap-3 text-sm tex-gray-800">
                        <span (click)="toggleForm()" class="text-blue-600 text-sm">
                            Reset Password
                        </span>
      </p>

      <p (click)="testRouting()">Testing</p>
    </form>
  </section>
</section>
<ng-template #reset>
  <form (ngSubmit)="handleReset()"
        class="w-full flex flex-col justify-center gap-2 items-center ">
    <section class="w-5/6">
      <label for="">Enter Email: </label>
      <div
        class="border border-blue-100 flex justify-between items-center form-input my-1 px-2 py-2 focus-within:ring-0 rounded-lg  w-full"
      >
        <input
          [(ngModel)]="resetEmail"
          class="border-none  text-xs md:text-sm focus-within:border-none focus-within:ring-0 w-full"
          name="email"
          placeholder="johndoe@gmail.com"
          type="email"/>
      </div>
      <!--            <span *ngIf="this.validateEmail()" class="text-red-800 text-xs">Enter a valid email address</span>-->


      <button
        [disabled]="!this.resetEmail"
        [ngClass]="{'disabled:bg-green-300': !this.resetEmail, 'disabled:cursor-not-allowed': !this.resetEmail}"
        class="bg-green-800 py-3 my-1 rounded-lg w-full text-white">
        Reset Password
      </button>


    </section>


  </form>
</ng-template>
<ngx-loading
  [config]="{ backdropBorderRadius: '3px' }"
  [show]="false"
></ngx-loading>
